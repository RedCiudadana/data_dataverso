{% extends "src/base.njk" %}

{% block head %}
<title>{{ title }}</title>
{% endblock %}

{% block content %}

    <!-- ====== Hero Start ====== -->
    <section class="ud-hero" id="home">
        <div class="container">
          <div class="row mb-4 pb-4">
            <div class="col-lg-12">
              <div class="ud-hero-content wow fadeInUp" data-wow-delay=".2s">
                <h1 class="ud-hero-title ">
                  {{title}}
                </h1>
                </div>
              </div>
            </div>
          </div>
        </div>
      </section>
      <!-- ====== Hero End ====== -->

    <section id="" class="ud-section">
        <div class="container">
            <div class="row align-items-center">
              	<div class="col-lg-12">
					<div class="ud-single-faq wow fadeInUp" data-wow-delay=".1s">
                        <div class="accordion">
                            <button
                            class="ud-faq-btn collapsed"
                            data-bs-toggle="collapse"
                            data-bs-target="#collapseOne"
                            >
                            <span class="icon flex-shrink-0">
                                <i class="lni lni-chevron-down"></i>
                            </span>
                            <span>¿Cómo utilizar nuestros datos?</span>
                            </button>
                            <div id="collapseOne" class="accordion-collapse collapse">
                            <div class="ud-faq-body">
                                <p>Este es un ejemplo simple de cómo usar <code>fetch</code> para obtener datos desde nuestra API:</p>
        
								<div class="code-block">
<pre><code>async function fetchData() {
	try {
		const response = await fetch('https://data-dataverso.redciudadana.org/assets/conjuntos/nombre_del_conjunto.json');
		const data = await response.json();
		console.log(data);
	} catch (error) {
		console.error('Error fetching data:', error);
	}
}

fetchData();</code></pre>
								</div>
                            </div>
                            </div>
                        </div>
                    </div>
				</div>
				<div class="col-lg-12">
					<h2>Conjuntos de Datos</h2>
					<hr>
				</div>
				{% for conjunto in collections.conjuntos | filtrarPorCategoria(title) %}
                <div class="col-lg-6">
					<div class="cuadro-conjunto">
						<div class="cuadro-conjunto-title">
							<i class="fa-solid fa-database"></i>
							<h4>{{conjunto.data.title}}</h4>
						</div>
						<div class="cuadro-conjunto-body">
							<p>{{conjunto.data.descripcion}}</p>
							<div class="cuadro-conjunto-body-buttons">
								{% if conjunto.data.json %}
								<a href="{{conjunto.data.json}}" download="{{conjunto.data.title | slug}}" class="ud-main-btn">json</a>
								{% endif %}
								{% if conjunto.data.csv %}
								<a href="{{conjunto.data.csv}}" download="{{conjunto.data.title | slug}}" class="ud-main-btn">csv</a>
								{% endif %}
							</div>
							<p>Enlace para uso de api: <br><a href="https://data-dataverso.redciudadana.org{{conjunto.url}}" id="copyLink">https://data-dataverso.redciudadana.org{{conjunto.url}}</a></p>
						</div>
					</div>
                </div>
				{% endfor %}
            </div>
        </div>
    </section>




{% endblock %}